根据可见性, 每个事务都只能看到其它committed的事务所产生的数据, 所以要撤销或者回滚事务, 只需要将事务的状态设置为aborted即可

读提交是允许版本跳跃的, 而可重复读是不允许版本跳跃的, 解决版本跳跃的方法就是, 如果事务需要修改的数据已经被另一个不可见的事务修改了, 那么要求本事务回滚

两段锁会阻塞事务, 直到持有锁的线程释放锁, 这种关系可以抽象成有向边, 无数的有向边可以形成一个图(不一定是连通图). 这样, 检测死锁只需要检测图中是否有环即可

GoDB维护一个LockTabl对象, 在每次出现等待的情况时, 就向图中增加一条有向边, 并进行死锁检测, 如果检测到死锁就撤销这条边并撤销这个事务

VersionManager向上层提供功能, 并且VM的实现类被设计为entry的缓存, 需要继承抽象的缓存类